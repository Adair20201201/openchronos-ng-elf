machine:
  environment:
    MSP430_TI: $HOME/cached/msp430-elf-gcc
    PATH: $PATH:$MSP430_TI/bin
    CACHE: ~/cached

  pre:
    - sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.6 10
    - sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.9 20
    - echo alias ll=\'ls -al\' >> ~/.bash_profile # setup ll alias for later ssh login

dependencies:
  cache_directories:
    - $CACHE 

  pre:
    - circleci/setup.sh # Download and build MSP430-elf-gcc if needed


  override:
    - echo Cleaning openchronos-ng-elf...
    - make clean        # Clean the openchronos-ng-elf project
    - echo Building openchronos-ng-elf...
    - make              # Build the openchronos-ng-elf project

test:
  override:
    - echo No tests yet.
