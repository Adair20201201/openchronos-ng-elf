machine:
  environment:
    MSP430_TI: $HOME/msp430-elf-gcc
    PATH: $PATH:$MSP430_TI/bin

  pre:
    - echo alias ll=\'ls -al\' >> ~/.bash_profile # setup ll alias for later ssh login

dependencies:
  pre:
    - echo Downloading msp430 elf gcc compiler...
    - wget https://circle-artifacts.com/gh/BenjaminSoelberg/msp430-elf/4/artifacts/0/tmp/circle-artifacts.QiqE80U/msp430-elf-gcc-without-mspdebug_3.05.00.00_ubuntu_x64.tar.gz -O $HOME/msp430-elf-gcc.tar.gz

    - echo Installing msp430 elf gcc compiler...
    - cd $HOME && tar xvf msp430-elf-gcc.tar.gz

  override:
    - echo Cleaning openchronos-ng-elf...
    - make clean        # Clean the openchronos-ng-elf project

    - echo Building openchronos-ng-elf...
    - make              # Build the openchronos-ng-elf project

test:
  override:
    - echo No tests yet.

general:
  artifacts:
    - "openchronos.elf" # openchronos firmware in binary format with additional info
    - "openchronos.txt" # openchronos firmware in TI hex format
